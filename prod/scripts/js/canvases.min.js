"use strict";const messageElem=document.querySelector("div.messages");class MyError{constructor(e){messageElem.insertAdjacentHTML("beforeend",`\n        <div class="message">\n            <span class="material-icons">error_outline</span>\n            <p>${e}</p>\n        </div>\n        `),messageElem.style.display="flex",messageElem.style.padding="5px 25px 5px 5px",document.querySelector("div.messages > span.close").addEventListener("click",this.closeErrorsWindow)}closeErrorsWindow(){messageElem&&(messageElem.style.display="none",document.querySelectorAll("div.messages div.message").forEach(e=>{e.remove()})),document.querySelector("div.messages > span.close").removeEventListener("click",this.closeErrorsWindow)}}const canvasCenterElem=document.getElementById("canvasCenter"),canvasSidesElem=document.getElementById("canvasSides"),canvasCenter=canvasCenterElem.getContext("2d");canvasCenter.beginPath(),canvasCenter.moveTo(105,4),canvasCenter.lineTo(100,150),canvasCenter.lineTo(215,150),canvasCenter.lineTo(200,4),canvasCenter.quadraticCurveTo(150,-2,105,4);const canvasSides=canvasSidesElem.getContext("2d");canvasSides.moveTo(200,4),canvasSides.quadraticCurveTo(205,4,249,25),canvasSides.quadraticCurveTo(170,40,236,75),canvasSides.quadraticCurveTo(250,80,280,85),canvasSides.lineTo(245,150),canvasSides.lineTo(215,150),canvasSides.lineTo(200,4),canvasSides.moveTo(100,150),canvasSides.lineTo(56,150),canvasSides.lineTo(25,85),canvasSides.quadraticCurveTo(43,85,80,70),canvasSides.quadraticCurveTo(100,60,100,50),canvasSides.quadraticCurveTo(100,40,80,30),canvasSides.quadraticCurveTo(70,25,55,25),canvasSides.quadraticCurveTo(75,10,110,3),canvasSides.lineTo(100,150),canvasSides.closePath();const checkBoxes=document.querySelectorAll(".input-for-hidden"),checkNumber=e=>{/\D/gi.exec(e.target.value)&&(new MyError("Введен недопустимый символ"),e.target.value=e.target.value.slice(0,-1))},checkLogoName=e=>{/\d/gi.exec(e.target.value)&&(new MyError("Введен недопустимый символ"),e.target.value=e.target.value.slice(0,-1))};checkBoxes.forEach(e=>{e.addEventListener("change",e=>{e.target.checked?("places__start-number"===e.target.id?(document.getElementById("example-num").src="./img/render/num.png",document.getElementById("places__start-number-hidden-input").addEventListener("input",checkNumber)):document.getElementById("places__start-number-hidden-input").removeEventListener("input",checkNumber),"places__moto-logo"===e.target.id?(document.getElementById("example-num").src="./img/render/logo-2.png",document.getElementById("places__moto-logo-hidden-input").addEventListener("input",checkLogoName)):document.getElementById("places__moto-logo-hidden-input").removeEventListener("input",checkLogoName),changePrice(500),document.getElementById("example-num").style.display="block",document.getElementById(e.target.id+"-hidden-input").style.display="block"):(document.getElementById("example-num").style.display="none",changePrice(-500),document.getElementById(e.target.id+"-hidden-input").style.display="none")})});const paramsRadios=document.querySelectorAll(".param-input");let currentCanvas;paramsRadios.forEach(e=>{e.addEventListener("change",t=>{document.querySelector("label.active-param")&&document.querySelector("label.active-param").classList.remove("active-param"),document.querySelector("input#"+e.id+"+label").classList.add("active-param"),document.querySelector("label.active-param").classList.contains("label-no-active")?document.querySelector("div.colors").style.display="none":document.querySelector("div.colors").style.display="block",null!=document.getElementById(e.value)&&(currentCanvas=document.getElementById(e.value).getContext("2d"),console.log("currentCanvas -",document.getElementById(e.value)))})});const colorsElems=document.querySelectorAll("div.colors > div div");colorsElems.forEach(e=>{e.addEventListener("click",e=>{document.querySelector("div.color.active-color")&&document.querySelector("div.color.active-color").classList.remove("active-color");let t=e.target.style.backgroundColor;void 0!==currentCanvas?(e.target.classList.add("active-color"),currentCanvas.fillStyle=t,currentCanvas.clearRect(0,0,500,500),currentCanvas.fill()):new MyError("Выберите положение"),document.querySelector("label.active-param > div > div.param-color")&&(document.querySelector("label.active-param > div > div.param-color").style.background=t)})});const changeExtSidesColor=e=>{e.target.classList.contains("color")&&document.getElementById("example-ext-sides")&&(document.getElementById("example-ext-sides").src=`./img/render/ext-sides/ext-sides-${e.target.style.backgroundColor}.png`)},changeRibbonsColor=e=>{e.target.classList.contains("color")&&document.getElementById("example-ribbons")&&(ribbonsColor=e.target.style.backgroundColor,changeRibbonsImage("",ribbonsColor))};console.log(document.querySelectorAll('input[type="radio"].param-input')),document.querySelectorAll('input[type="radio"].param-input').forEach(e=>{e.addEventListener("change",e=>{target=e.target,document.getElementById("places__radio-ribbons").checked&&(document.querySelector("div.color.colors__white").style.display="block",document.querySelector("div.color.colors__black").style.display="none",document.querySelectorAll("div.colors > div").forEach(e=>{e.removeEventListener("click",changeExtSidesColor),e.addEventListener("click",changeRibbonsColor)})),document.getElementById("places__radio-extSides").checked&&(document.querySelector("div.color.colors__black").style.display="block",document.querySelector("div.color.colors__white").style.display="none",document.querySelectorAll("div.colors > div").forEach(e=>{e.removeEventListener("click",changeRibbonsColor),e.addEventListener("click",changeExtSidesColor)})),(document.getElementById("places__radio-center").checked||document.getElementById("places__radio-sides").checked||document.getElementById("places__radio-number").checked||document.getElementById("places__radio-logo").checked)&&(document.querySelector("div.color.colors__black").style.display="block",document.querySelector("div.color.colors__white").style.display="block",document.querySelectorAll("div.colors > div").forEach(e=>{e.removeEventListener("click",changeExtSidesColor),e.removeEventListener("click",changeRibbonsColor)}))})}),setInterval(()=>{document.querySelector("div.messages")&&(1===document.querySelectorAll("div.messages div.message").length&&(messageElem.style.display="none"),document.querySelector("div.messages div.message:last-child")&&(document.querySelector("div.messages div.message:last-child").style.minWidth="0px",document.querySelector("div.messages div.message:last-child").remove()))},2e3);